
<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">


 <meta name="generator" content="Adobe RoboHelp 2015">
<title>TIME-WINDOWS</title>
<link rel="StyleSheet" href="intel_css_styles.css" type="text/css">
 <link rel="StyleSheet" href="intel_css_styles.css" type="text/css">
</head>
<script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
<body>

 <div style="width: 100%; position: relative;" id="header">
	<p style="font-style: italic;">Tutorial: 
	 Reducing Trace File Size for Intel速 Trace Analyzer and Collector</p>
</div>

<h1>TIME-WINDOWS</h1>

<p><img src="Tutorial_files/itac_icon.png" alt="" border="0">&#160;Use the <samp class="codeph">TIME-WINDOWS</samp> option to set up time frames within which Intel速 Trace Collector will save the events into the trace file.</p>
<p>You can have several time frames at the same run.</p>
<p>To set time windows for Intel Trace Collector to collect trace data for the <samp class="codeph">poisson</samp> application from <samp class="codeph">0</samp> to <samp class="codeph">28</samp> milliseconds only, do the following:</p>
<ol>
<li>Create a new configuration file.</li>
<li>To get the correct order of messages in the output trace file, include the first communication into the first time window.</li>
<li>
<p>For the <samp class="codeph">poisson</samp> application, set up the time frame from <samp class="codeph">0</samp> to <samp class="codeph">28</samp> milliseconds using the following syntax (the lower-case "L" character stands for milliseconds):</p>
<p class="code">TIME-WINDOWS 0:28l</p>
<p>For more information about the syntax of parameters, refer to the <i>Intel速 Trace Collector User and Reference Guide</i>.</p>
</li>
<li>
<p>Save the configuration file as <samp class="codeph">my_settings_timewindows.conf</samp>.</p>
</li>
<li>
<p>Set the <samp class="codeph">VT_CONFIG</samp> environment variable to the directory that contains the configuration file:</p>
<p class="code">VT_CONFIG=/&lt;<i>configuration file path name</i>&gt;/my_settings_timewindows.conf</p>
</li>
<li>
<p>Run the application.</p>
<p><b>Linux* OS:</b></p>
<p class="code">$ mpirun -trace -n 4 ./poisson</p>
<p><b>Windows* OS:</b></p>
<p class="code">&gt; mpiexec -n 4 poisson.exe</p>
</li>
</ol>
<p>Check the resulting trace file:</p>
<ol>
<li>
<p>Open the resulting trace file <samp class="codeph">poisson.stf</samp> in the Intel速 Trace Analyzer.</p>
</li>
<li>
<p>In the Function Profile, right-click <b>Group MPI</b> and select <b>Ungroup Group MPI</b> from the context menu.</p>
</li>
<li>
<p>Go to <b>Charts &gt; Event Timeline</b> to see the activities in each of the four processes individually.</p>
</li>
<li>
<p>Go to <b>Charts &gt; Time Scale</b> or press the <img src="Tutorial_files/image06.png" alt="" border="0"> toolbar button to open the time scale.</p>
</li>
</ol>
<p>You can see that the total execution time has been written into the trace file, but the trace data is collected only for the specified period of time (28 milliseconds). The <samp class="codeph">VT_API</samp> group stands for the part of the code where trace data collection was off:</p>
<p><img src="Tutorial_files/image05.png" alt="" border="0"></p>
<h2>Key Terms</h2>
<p class="seealsoitem"><a href="Key_Terms.htm#config_file">Configuration File</a><br>
<a href="Key_Terms.htm#event_timeline">Event Timeline</a><br>
<a href="Key_Terms.htm#function_profile">Function Profile</a></p>

</body>
</html>
