
<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

 <meta name="generator" content="Adobe RoboHelp 2015">
<title>Compare Original Trace File With Idealized Trace File</title>
<link rel="StyleSheet" href="intel_css_styles.css" type="text/css">
</head>
<script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
<body>

<div style="width: 100%; position: relative;" id="header">
	<p style="font-style: italic;">Tutorial: 
	 Analyzing MPI Applications with Intel® Trace Analyzer and Collector 
	 and Intel® VTune™ Amplifier XE</p>
</div>


<h1>Compare Original Trace File With Idealized Trace File</h1>

<p><img src="Tutorial_files/itac_icon.png" alt="" border="0">&#160;See your application under the ideal circumstances and compare the original trace file with the idealized one to isolate problematic interactions.</p>
<p>Create the idealized trace:</p>
<ol>
<li>
<p>In the <samp class="codeph">poisson_sendrecv.single.stf</samp> view, select <b>Advanced</b> &gt; <b>Idealization</b>, or use the <img src="Tutorial_files/image06.png" alt="" border="0"> toolbar button.</p>
</li>
<li>
<p>In the Idealization dialog box, check the idealization parameters. By default, Intel® Trace Analyzer stores the idealized trace in the local folder where the original trace file was opened. The default name of the new ideal trace file is the input trace file name with the suffix <samp class="codeph">ideal</samp> added before the <samp class="codeph">.stf</samp> extension.</p>
</li>
<li>
<p>Click <b>Start</b> to idealize the trace <samp class="codeph">poisson_sendrecv.single.stf.</samp></p>
<p><img src="Tutorial_files/image07.png" alt="" border="0"></p>
</li>
</ol>
<p>To get more information on idealization, refer to the <i>Idealization Dialog Box</i> section of the <i>Intel® Trace Analyzer User and Reference Guide</i>.</p>
<p>Compare the original trace file with the idealized trace:</p>
<ol>
<li>
<p>In the <samp class="codeph">poisson_sendrecv.single.stf</samp> view, select <b>Advanced</b> <b>&gt;</b> <b>Imbalance Diagram</b> or press the <img src="Tutorial_files/image08.png" alt="" border="0"> toolbar button.</p>
</li>
<li>
<p>In the Imbalance Diagram dialog box, press the <b>Open Another File</b> button, navigate to the idealized trace <samp class="codeph">poisson_sendrecv.ideal.stf</samp> and select it.</p>
<p><img src="Tutorial_files/image09.png" alt="" border="0"></p>
</li>
<li>
<p>Click <b>OK</b>.</p>
</li>
</ol>
<ol start="4">
<li>
<p>In the Imbalance Diagram window, click the <b>Total Mode</b> button and select <b>Breakdown Mode</b>.</p>
</li>
</ol>
<p><img src="Tutorial_files/image10.png" alt="" border="0"></p>
<p>This chart shows you a breakdown of the interconnect vs. imbalance overhead in your application, as well as which MPI routines are at fault. You can see that <samp class="codeph">MPI_Sendrecv</samp> is the most time-consuming function. The imbalance weight is displayed in the light purple color and comprises about 10% for the <samp class="codeph">MPI_Sendrecv</samp> function. This is the time the processes spend waiting for each other.</p>
<h2>Key Terms</h2>
<p class="seealsoitem"><a href="Key_Terms.htm#idealized_tracefile">Idealized trace file</a></p>
</body>
</html>
